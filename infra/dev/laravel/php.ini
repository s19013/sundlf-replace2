;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; PHP 設定（Web / 開発用）
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;==================================================
; 基本設定
;==================================================

; デフォルト文字コード（HTML / JSON 出力の文字化け防止）
default_charset = "UTF-8"

; タイムゾーン（未設定だと警告が出やすい）
date.timezone = "UTC"


;==================================================
; マルチバイト文字（日本語環境向け）
;==================================================

; 日本語向け設定
; ※ 主に mb_send_mail() や文字コード検出順に影響
mbstring.language = Japanese

; 自動エンコーディング変換は行わない
; （予期しない変換やパフォーマンス低下を防ぐ）
mbstring.encoding_translation = Off


;==================================================
; ファイルアップロード
;==================================================

; ファイルアップロードを許可
file_uploads = On

; 1ファイルあたりの最大サイズ
upload_max_filesize = 10M

; POST 全体の最大サイズ（upload_max_filesize より大きくする）
post_max_size = 12M

; 一時ディレクトリ（必要なら明示。コンテナ環境では /tmp で十分）
; upload_tmp_dir = /tmp


;==================================================
; 実行時間・メモリ
;==================================================

; スクリプト最大実行時間（秒）
max_execution_time = 60

; PHP が使用できる最大メモリ
memory_limit = 256M


;==================================================
; エラー処理（開発向け）
;==================================================

; すべてのエラー・警告・注意を報告
error_reporting = E_ALL

; エラーを画面に表示（※本番では必ず Off にする）
display_errors = On

; PHP 起動時エラーの表示
; 通常は Off（必要なときだけ On にする）
display_startup_errors = Off

; エラーをログに出力
log_errors = On

; エラーログの出力先
; コンテナ環境では stderr に出すのが扱いやすい
error_log = /proc/self/fd/2
; ※ ファイルに出す場合は権限・ローテーションに注意
; error_log = /var/log/php_errors.log


;==================================================
; セキュリティ（開発でも入れておきたい最低限）
;==================================================

; PHP のバージョン情報を HTTP ヘッダ等に出さない
expose_php = Off

; パス解決の脆弱挙動を防止（PHP-FPM 使用時は必須レベル）
cgi.fix_pathinfo = 0


;==================================================
; セッション設定
;==================================================

; JavaScript から Cookie にアクセスさせない（XSS 対策）
session.cookie_httponly = 1

; クロスサイト送信をある程度制限
session.cookie_samesite = Lax

; HTTPS 環境では有効化推奨（ローカルHTTPなら Off）
; session.cookie_secure = 1


;==================================================
; オプション（必要に応じて）
;==================================================

; 外部 URL を fopen 系関数で開く必要がない場合は Off 推奨
; allow_url_fopen = Off

; 共有環境などでリスクを下げたい場合のみ検討
; （開発ツールやフレームワークが壊れる可能性あり）
; disable_functions = exec,passthru,shell_exec,system,proc_open,popen
